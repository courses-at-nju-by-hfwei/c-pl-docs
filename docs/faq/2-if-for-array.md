# 2-if-for-array

<small>最后更新于 {docsify-updated}。</small>

## 全局变量 or 局部变量

<small>updated by 张哲恺</small>

### 问题描述

将比较大的数组和一些变量定义在main函数的外面是什么操作？

### 解决思路

检索相关资料，不妨自己试一试

### 示例代码与解读

定义在main函数外部的变量称为全局变量，顾名思义就是全局可见的变量，而定义在main函数内部的变量称为局部变量，即只在main函数内部可见。两者存储在内存的不同区域，由于存储区域的划分问题，大数组更适合定义为全局变量。

```c
#include <stdio.h>
#define N 1e7+5 
#define n 1e4+5
char S[N]; //大数组更适合存储为全局变量，不过现阶段存储为局部变量也不会有太大影响
int main(){
  char s[n]; //小数组存储为局部变量
  return 0;
}
```

下面简单地比较一下两者的优劣：

全局变量会由系统全部自动初始化为0值；但局部变量不会，其初始的值为垃圾值（可能为0）

```c
char S[N];
int main(){
  char s[n];
  printf("%s\n%s", S, s);
  //不妨自己试一试
}
```

下面一点暂时不用理解：

全局变量不用作为参数传入函数，调用时比较方便（偷懒），但无可避免地会造成函数副作用（即函数运行的结果依赖于环境），同时还会在多文件程序的编码过程中为你带来麻烦；局部变量由于仅函数内部可见，在调用另一个函数需要使用它时只能作为参数传入

### 参考资料

https://stackoverflow.com/questions/484635/are-global-variables-bad
